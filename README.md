# RDAP

JavaScript interface for the RDAP protocol.

[![Build Status](https://travis-ci.org/helb/zonemaster-js.svg?branch=master)](https://travis-ci.org/helb/zonemaster-js)
[![codecov](https://codecov.io/gh/helb/zonemaster-js/branch/master/graph/badge.svg)](https://codecov.io/gh/helb/zonemaster-js)
[![npm version](https://badge.fury.io/js/zonemaster-js.svg)](https://badge.fury.io/js/zonemaster-js)

## Installation & basic usage

```sh
$ npm install --save rdap
```

```javascript
import RDAP from 'rdap';

const rdap = new RDAP('https://backend-url');

// using with Promises (ES6/ES2015):
rdap.domain('nic.cz').then(info => console.log(info));

// using with async/await (ES8/ES2017):
console.log(await rdap.domain('nic.cz'));
```

Note: `await` can be used inside `async` functions only, as there is no support for "top-level await" in JS (currently?):

-   [Clarifying question: can await be used in top-level code?](https://github.com/tc39/ecmascript-asyncawait/issues/9)
-   [Top-level await is a footgun](https://gist.github.com/Rich-Harris/0b6f317657f5167663b493c722647221)
-   It's supported in Chrome DevTools Console since Chrome 62 however, might be useful for trying out and debugging: [Top-level await operators in the Console](https://developers.google.com/web/updates/2017/08/devtools-release-notes#await)

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### RDAP

Interface to the RDAP API.

**Parameters**

-   `backendUrl`  API URL, including protocol

**Examples**

```javascript
const rdap = new RDAP('http://localhost:5000/')
```

## Development

```sh
$ git clone https://github.com/helb/rdap.git && cd rdap
$ npm install
```

### Testing

```sh
$ npm test
```

Set your options in `test-config.js`. HTTP calls are mocked by default, if you want to use a real backend, set it's URL in the config file and enable it's use:

```javascript
const config = {
  backendUrl: 'https://url:port/',
  useRealBackend: true,
  â€¦
```

Generating a test coverage report:

```sh
$ npm run coverage
```

Reports are placed into `./coverage` directory and a HTML version should open in your default browser when finished.

### Building

```sh
$ npm run build
```

Build output is placed to `./dist` directory.
